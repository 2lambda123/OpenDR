
^SelfConstructingBuilding:
	Inherits@1: ^ExistsInWorld
	Inherits@3: ^SpriteActor
	Buildable:
		BuildDurationModifier: 2486 # DR build rate
	SelfConstructing:
		Steps: 1
	SelectionDecorations:
	Selectable:
		Priority: 3
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure
	Building:
		Dimensions: 1,1
		Footprint: x
		TerrainTypes: Clear,Road,Normal2, Normal3, Muddy1, Muddy2, Rough1, Rough2, RoadBase
		SkipMakeAnimation: True
	WithSpriteBody:
	HitShape@LAYER1:
	HitShape@LAYER2:
	HitShape@LAYER3:
	HitShape@LAYER4:
	Guardable:
		Range: 3c0
	FrozenUnderFog:
	Tooltip:
		GenericName: Structure
	Demolishable:
	EditorTilesetFilter:
		Categories: Building
	CommandBarBlacklist:

Power.Constructing:
	Inherits: ^SelfConstructingBuilding
	RenderSprites:
		Image: ncpow1l0
	Buildable:
		Prerequisites: ~techlevel.infonly
		Queue: Building
		Description: Provides power for other structures. Refines Taelon into credits.
		BuildPaletteOrder: 20
		BuildDuration: 30
	SelfConstructing:
		Steps: 1
		Becomes: Power
	MustBeDestroyed:
		RequiredForShortGame: true
	Tooltip:
		Name: Taelon Power Generator
	Inherits@shape: ^3x4Shape
	Selectable:
		Bounds: 72,84,0,-12
		DecorationBounds: 72,84,0,-12
	Building:
		Footprint: _== xxx =xx ===
		Dimensions: 3,4
		LocalCenterOffset: 0,0,0
	Valued:
		Cost: 2000
	Health:
		HP: 1450
	RevealsShroud:
		Range: 8c0
	Armor:
		Type: BuildingArmour
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate
	WithIdleOverlay@LAYER1:
		RenderBeforeBuildComplete: true
		Palette: terrain
		Sequence: underlay-building
	WithIdleOverlay@LAYER2:
		RenderBeforeBuildComplete: true
		Sequence: top-building
	WithIdleOverlay@LAYER3:
		RenderBeforeBuildComplete: true
		Palette: shadow
		Sequence: shadow-building
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false


WaterLaunchPad.Constructing:
	Inherits: ^SelfConstructingBuilding
	RenderSprites:
		Image: nclnc1l0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~techlevel.infonly
		Description: Refines spring water into credits.
		BuildDuration: 37
	SelfConstructing:
		Steps: 1
		Becomes: WaterLaunchPad
	MustBeDestroyed:
		RequiredForShortGame: true
	Tooltip:
		Name: Water Launch Pad
	Inherits@shape: ^4x3Shape
	Selectable:
		Bounds: 96,72,0,0
		DecorationBounds: 96,72,0,0
	Building:
		Footprint: _xx_ xxxx ==x=
		Dimensions: 4,3
		LocalCenterOffset: 0,0,0
	Targetable:
		TargetTypes: Ground, Structure, C4, DetonateAttack, SpyInfiltrate
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -1536
			BottomRight: 2048, 1536
	Valued:
		Cost: 2500
	CustomSellValue:
		Value: 600
	Health:
		HP: 1300
	RevealsShroud:
		Range: 8c0
	Armor:
		Type: BuildingArmour
	WithIdleOverlay@LAYER1:
		RenderBeforeBuildComplete: true
		Palette: terrain
		Sequence: underlay-building
	WithIdleOverlay@LAYER2:
		RenderBeforeBuildComplete: true
		Sequence: top-building
	WithIdleOverlay@LAYER3:
		RenderBeforeBuildComplete: true
		Palette: shadow
		Sequence: shadow-building
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false

^DrHeadquarters.Constructing:
	Inherits: ^SelfConstructingBuilding
	Tooltip:
		Name: Headquarters
	Buildable:
		Queue: Building
		BuildPaletteOrder: 0
		BuildDuration: 22
		Description: Creates construction rigs and freighters.\nRequired to build some buildings.\nCan be upgraded.
	Building:
		Footprint: _xx_ xxxx xxxx xxx_
		Dimensions: 4,4
		LocalCenterOffset: 0,0,0
	MustBeDestroyed:
		RequiredForShortGame: true
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -2048, -2048
			BottomRight: 2048, 2048
	Selectable:
		Bounds: 96,96,0,0
		DecorationBounds: 96,96,0,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 0
		BuildDuration: 22
		Description: Creates construction rigs and freighters.\nRequired to build some buildings.\nCan be upgraded.
	BaseBuilding:
	Valued:
		Cost: 750
	RevealsShroud:
		Range: 8c0
	Armor:
		Type: BuildingArmour

HQ.human.Constructing:
	Inherits: ^DrHeadquarters.Constructing
	RenderSprites:
		Image: nfhqt1l0
	Tooltip:
		Name: Headquarters
	Buildable:
		Prerequisites: ~rig.human
	SelfConstructing:
		Steps: 1
		Becomes: HQ.human
	Health:
		HP: 1200
	WithIdleOverlay@LAYER1:
		RenderBeforeBuildComplete: true
		Palette: terrain
		Sequence: underlay-building
	WithIdleOverlay@LAYER2:
		RenderBeforeBuildComplete: true
		Sequence: top-building
	WithIdleOverlay@LAYER3:
		RenderBeforeBuildComplete: true
		Palette: shadow
		Sequence: shadow-building
